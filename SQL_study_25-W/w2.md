[25-W SQL ìŠ¤í„°ë””] 2ì£¼ì°¨ ê³¼ì œ
=========

> ðŸ” **1. ê³¼ì¼ë¡œ ë§Œë“  ì•„ì´ìŠ¤í¬ë¦¼ ê³ ë¥´ê¸°**  
ì‚¬ìš© í•¨ìˆ˜: SELECT

ë¬¸ì œ ë§í¬: [programmers](https://school.programmers.co.kr/learn/courses/30/lessons/133025)

ë‚ ì§œ: 25/01/15(ìˆ˜)

### ë¬¸ì œ ì„¤ëª…
ë‹¤ìŒì€ ì•„ì´ìŠ¤í¬ë¦¼ ê°€ê²Œì˜ ìƒë°˜ê¸° ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ì€ FIRST_HALF í…Œì´ë¸”ê³¼ ì•„ì´ìŠ¤í¬ë¦¼ ì„±ë¶„ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ ICECREAM_INFO í…Œì´ë¸”ìž…ë‹ˆë‹¤. FIRST_HALF í…Œì´ë¸” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, SHIPMENT_ID, FLAVOR, TOTAL_ORDER ëŠ” ê°ê° ì•„ì´ìŠ¤í¬ë¦¼ ê³µìž¥ì—ì„œ ì•„ì´ìŠ¤í¬ë¦¼ ê°€ê²Œê¹Œì§€ì˜ ì¶œí•˜ ë²ˆí˜¸, ì•„ì´ìŠ¤í¬ë¦¼ ë§›, ìƒë°˜ê¸° ì•„ì´ìŠ¤í¬ë¦¼ ì´ì£¼ë¬¸ëŸ‰ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. FIRST_HALF í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ëŠ” FLAVORìž…ë‹ˆë‹¤.

|NAME|TYPE|NULLABLE|
|---|--------|---|
|SHIPMENT_ID|INT(N)|FALSE|
|FLAVOR|VARCHAR(N)|FALSE|
|TOTAL_ORDER|INT(N)|FALSE|

ICECREAM_INFO í…Œì´ë¸” êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, FLAVOR, INGREDITENT_TYPE ì€ ê°ê° ì•„ì´ìŠ¤í¬ë¦¼ ë§›, ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì„±ë¶„ íƒ€ìž…ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. INGREDIENT_TYPEì—ëŠ” ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ì„¤íƒ•ì´ë©´ sugar_basedë¼ê³  ìž…ë ¥ë˜ê³ , ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ê³¼ì¼ì´ë©´ fruit_basedë¼ê³  ìž…ë ¥ë©ë‹ˆë‹¤. ICECREAM_INFOì˜ ê¸°ë³¸ í‚¤ëŠ” FLAVORìž…ë‹ˆë‹¤. ICECREAM_INFOí…Œì´ë¸”ì˜ FLAVORëŠ” FIRST_HALF í…Œì´ë¸”ì˜ FLAVORì˜ ì™¸ëž˜ í‚¤ìž…ë‹ˆë‹¤.

|NAME|TYPE|NULLABLE|
|---|--------|---|
|FLAVOR|VARCHAR(N)|FALSE|
|INGREDIENT_TYPE|VARCHAR(N)|FALSE|


### ë¬¸ì œ
ìƒë°˜ê¸° ì•„ì´ìŠ¤í¬ë¦¼ ì´ì£¼ë¬¸ëŸ‰ì´ 3,000ë³´ë‹¤ ë†’ìœ¼ë©´ì„œ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ê³¼ì¼ì¸ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ë§›ì„ ì´ì£¼ë¬¸ëŸ‰ì´ í° ìˆœì„œëŒ€ë¡œ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”.

### SQL ì¿¼ë¦¬(ì •ë‹µ)
```SQL
SELECT 
    F.FLAVOR
FROM FIRST_HALF AS F
    LEFT JOIN ICECREAM_INFO AS I
    ON I.FLAVOR = F.FLAVOR
WHERE TOTAL_ORDER >= 3000 AND INGREDIENT_TYPE = 'fruit_based'
ORDER BY TOTAL_ORDER DESC
```
### ì‹¤í–‰ ê²°ê³¼(ì •ë‹µ)
```SQL
FLAVOR
----------
strawberry
```

### í’€ì´ ê³¼ì • ë° ê³ ë¯¼í•œ ì 
```SQL
1. ë‘ í…Œì´ë¸” JOIN. ì£¼ë¬¸ ì •ë³´ê°€ ì£¼ìš” ì •ë³´ì´ë¯€ë¡œ FIRST_HALFì— ICECREAM_INFOë¥¼ LEFT JOINí•¨.

SELECT 
    *
FROM FIRST_HALF AS F
    LEFT JOIN ICECREAM_INFO AS I
    ON I.FLAVOR = F.FLAVOR

2. 'ì´ì£¼ë¬¸ëŸ‰ì´ 3,000ë³´ë‹¤ ë†’ìœ¼ë©´ì„œ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ì£¼ ì„±ë¶„ì´ ê³¼ì¼ì¸ ì•„ì´ìŠ¤í¬ë¦¼ì˜ ë§›' -> WHERE ì ˆì—ì„œ ANDë¡œ ë‘ ì¡°ê±´ì„ ì—°ê²°

SELECT 
    *
FROM FIRST_HALF AS F
    LEFT JOIN ICECREAM_INFO AS I
    ON I.FLAVOR = F.FLAVOR
WHERE TOTAL_ORDER >= 3000 AND INGREDIENT_TYPE = 'fruit_based'

3. TOTAL_ORDER ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬, FLAVORë§Œ ì¶œë ¥

SELECT 
    F.FLAVOR
FROM FIRST_HALF AS F
    LEFT JOIN ICECREAM_INFO AS I
    ON I.FLAVOR = F.FLAVOR
WHERE TOTAL_ORDER >= 3000 AND INGREDIENT_TYPE = 'fruit_based'
ORDER BY TOTAL_ORDER DESC

```
- JOINì„ ê°„ë§Œì— ë³´ì•˜ë‹¤
- JOINí•œ í…Œì´ë¸”ì„ SELECTë¬¸ì— ë„£ì„ ë•Œ í…Œì´ë¸”ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ ë°œìƒ: 'Column 'FLAVOR' in field list is ambiguous'. í…Œì´ë¸”ëª…ì„ ëª…ì‹œí•˜ìž.

---

> ðŸ” **2. ìžë™ì°¨ ì¢…ë¥˜ ë³„ íŠ¹ì • ì˜µì…˜ì´ í¬í•¨ëœ ìžë™ì°¨ ìˆ˜ êµ¬í•˜ê¸°**  
ì‚¬ìš© í•¨ìˆ˜: GROUP BY

ë¬¸ì œ ë§í¬: [programmers](https://school.programmers.co.kr/learn/courses/30/lessons/151137)

ë‚ ì§œ: 25/01/15(ìˆ˜)


### ë¬¸ì œ ì„¤ëª…
ë‹¤ìŒì€ ì–´ëŠ ìžë™ì°¨ ëŒ€ì—¬ íšŒì‚¬ì—ì„œ ëŒ€ì—¬ì¤‘ì¸ ìžë™ì°¨ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ CAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ìž…ë‹ˆë‹¤. CAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ì€ ì•„ëž˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ìžˆìœ¼ë©°, CAR_ID, CAR_TYPE, DAILY_FEE, OPTIONS ëŠ” ê°ê° ìžë™ì°¨ ID, ìžë™ì°¨ ì¢…ë¥˜, ì¼ì¼ ëŒ€ì—¬ ìš”ê¸ˆ(ì›), ìžë™ì°¨ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

|Column name|Type|Nullable|
|---|--------|---|
|CAR_ID|INTEGER|FALSE
|CAR_TYPE|VARCHAR(255)|FALSE
|DAILY_FEE|INTEGER|FALSE
|OPTIONS|VARCHAR(255)|FALSE

ìžë™ì°¨ ì¢…ë¥˜ëŠ” 'ì„¸ë‹¨', 'SUV', 'ìŠ¹í•©ì°¨', 'íŠ¸ëŸ­', 'ë¦¬ë¬´ì§„' ì´ ìžˆìŠµë‹ˆë‹¤. ìžë™ì°¨ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ëŠ” ì½¤ë§ˆ(',')ë¡œ êµ¬ë¶„ëœ í‚¤ì›Œë“œ ë¦¬ìŠ¤íŠ¸(ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ ê°’ ì˜ˆì‹œ: 'ì—´ì„ ì‹œíŠ¸', 'ìŠ¤ë§ˆíŠ¸í‚¤', 'ì£¼ì°¨ê°ì§€ì„¼ì„œ')ë¡œ ë˜ì–´ìžˆìœ¼ë©°, í‚¤ì›Œë“œ ì¢…ë¥˜ëŠ” 'ì£¼ì°¨ê°ì§€ì„¼ì„œ', 'ìŠ¤ë§ˆíŠ¸í‚¤', 'ë„¤ë¹„ê²Œì´ì…˜', 'í†µí’ì‹œíŠ¸', 'ì—´ì„ ì‹œíŠ¸', 'í›„ë°©ì¹´ë©”ë¼', 'ê°€ì£½ì‹œíŠ¸' ê°€ ìžˆìŠµë‹ˆë‹¤.

### ë¬¸ì œ

CAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ì—ì„œ 'í†µí’ì‹œíŠ¸', 'ì—´ì„ ì‹œíŠ¸', 'ê°€ì£½ì‹œíŠ¸' ì¤‘ í•˜ë‚˜ ì´ìƒì˜ ì˜µì…˜ì´ í¬í•¨ëœ ìžë™ì°¨ê°€ ìžë™ì°¨ ì¢…ë¥˜ ë³„ë¡œ ëª‡ ëŒ€ì¸ì§€ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ìžë™ì°¨ ìˆ˜ì— ëŒ€í•œ ì»¬ëŸ¼ëª…ì€ CARSë¡œ ì§€ì •í•˜ê³ , ê²°ê³¼ëŠ” ìžë™ì°¨ ì¢…ë¥˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.

### SQL ì¿¼ë¦¬(ì •ë‹µ)
```SQL
1. LIKE: ì‰¬ìš°ë‚˜ ë¹„íš¨ìœ¨ì 

SELECT 
    CAR_TYPE,
    COUNT(CAR_ID) AS CARS
FROM CAR_RENTAL_COMPANY_CAR
WHERE OPTIONS LIKE '%í†µí’ì‹œíŠ¸%' 
    OR OPTIONS LIKE '%ì—´ì„ ì‹œíŠ¸%' 
    OR OPTIONS LIKE '%ê°€ì£½ì‹œíŠ¸%' 
GROUP BY CAR_TYPE
ORDER BY CAR_TYPE

2. REGEXP: ê°€ë…ì„±ì„ ì±™ê¹€

SELECT 
    CAR_TYPE,
    COUNT(CAR_ID) AS CARS
FROM CAR_RENTAL_COMPANY_CAR 
WHERE OPTIONS REGEXP '(í†µí’ì‹œíŠ¸|ì—´ì„ ì‹œíŠ¸|ê°€ì£½ì‹œíŠ¸)'
GROUP BY CAR_TYPE
ORDER BY CAR_TYPE
```
### ì‹¤í–‰ ê²°ê³¼(ì •ë‹µ)
```SQL
CAR_TYPE	CARS
----------------
SUV	        6
ë¦¬ë¬´ì§„	    2
ì„¸ë‹¨	    6
ìŠ¹í•©ì°¨	    3
íŠ¸ëŸ­	    3
```

### í’€ì´ ê³¼ì • ë° ê³ ë¯¼í•œ ì 
```SQL
1. 'í†µí’ì‹œíŠ¸', 'ì—´ì„ ì‹œíŠ¸', 'ê°€ì£½ì‹œíŠ¸' ì¤‘ í•˜ë‚˜ë§Œ í¬í•¨ë˜ì–´ë„ ì¶œë ¥ë˜ë„ë¡ í•¨.
LIKEë¬¸ì„ ORë¡œ ì—°ê²°í•˜ëŠ” ê²ƒë³´ë‹¤ ì‰¬ìš´ ë°©ë²•ì´ ìžˆëŠ”ì§€ ì°¾ì•„ë´„. (=REGEXP)

SELECT 
    *
FROM CAR_RENTAL_COMPANY_CAR 
WHERE OPTIONS REGEXP '(í†µí’ì‹œíŠ¸|ì—´ì„ ì‹œíŠ¸|ê°€ì£½ì‹œíŠ¸)'

2. CAR_TYPEë³„ COUNTë¥¼ ì¶œë ¥í•´ì•¼ í•˜ë¯€ë¡œ GROUP BY ì‚¬ìš©, SELECTë¬¸ì— COUNT í•¨ìˆ˜ ì‚¬ìš©

SELECT 
    CAR_TYPE,
    COUNT(CAR_ID) AS CARS
FROM CAR_RENTAL_COMPANY_CAR 
WHERE OPTIONS REGEXP '(í†µí’ì‹œíŠ¸|ì—´ì„ ì‹œíŠ¸|ê°€ì£½ì‹œíŠ¸)'
GROUP BY CAR_TYPE

3. CAR_TYPE ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬

SELECT 
    CAR_TYPE,
    COUNT(CAR_ID) AS CARS
FROM CAR_RENTAL_COMPANY_CAR 
WHERE OPTIONS REGEXP '(í†µí’ì‹œíŠ¸|ì—´ì„ ì‹œíŠ¸|ê°€ì£½ì‹œíŠ¸)'
GROUP BY CAR_TYPE
ORDER BY CAR_TYPE
```
- **MySQL REGEXP ì‚¬ìš© ë°©ë²•: ì—¬ëŸ¬ ê°œì˜ íŠ¹ì • ë¬¸ìžë¥¼ ë™ì‹œì— ê²€ìƒ‰í•˜ê³  ì‹¶ì„ ë•Œ**  
WHERE ì¡°ê±´ì‹ì— íŠ¹ì • ë¬¸ìžë“¤ì´ ê²€ìƒ‰ë  ì—´ ìž…ë ¥, REGEXP('ê²€ìƒ‰ë¬¸ìž1|ê²€ìƒ‰ë¬¸ìž2|...')  
(ë”°ì˜´í‘œëŠ” ì–´ë””ì— ë„£ì–´ë„ ë˜ëŠ” ê²ƒ ê°™ë‹¤)
---

> ðŸ” **3. ê°€ìž¥ í° ë¬¼ê³ ê¸° 10ë§ˆë¦¬ êµ¬í•˜ê¸°**  
ì‚¬ìš© í•¨ìˆ˜: SELECT

ë¬¸ì œ ë§í¬: [programmers](https://school.programmers.co.kr/learn/courses/30/lessons/298517)

ë‚ ì§œ: 25/01/16(ëª©)

### ë¬¸ì œ ì„¤ëª…
ë‚šì‹œì•±ì—ì„œ ì‚¬ìš©í•˜ëŠ” FISH_INFO í…Œì´ë¸”ì€ ìž¡ì€ ë¬¼ê³ ê¸°ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ê³  ìžˆìŠµë‹ˆë‹¤. FISH_INFO í…Œì´ë¸”ì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìœ¼ë©° ID, FISH_TYPE, LENGTH, TIMEì€ ê°ê° ìž¡ì€ ë¬¼ê³ ê¸°ì˜ ID, ë¬¼ê³ ê¸°ì˜ ì¢…ë¥˜(ìˆ«ìž), ìž¡ì€ ë¬¼ê³ ê¸°ì˜ ê¸¸ì´(cm), ë¬¼ê³ ê¸°ë¥¼ ìž¡ì€ ë‚ ì§œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

|Column name|Type|Nullable|
|---|---|---|
ID|	INTEGER|	FALSE
FISH_TYPE|	INTEGER	|FALSE
LENGTH	|FLOAT	|TRUE
TIME	|DATE	|FALSE

ë‹¨, ìž¡ì€ ë¬¼ê³ ê¸°ì˜ ê¸¸ì´ê°€ 10cm ì´í•˜ì¼ ê²½ìš°ì—ëŠ” LENGTH ê°€ NULL ì´ë©°, LENGTH ì— NULL ë§Œ ìžˆëŠ” ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.

### ë¬¸ì œ
FISH_INFO í…Œì´ë¸”ì—ì„œ ê°€ìž¥ í° ë¬¼ê³ ê¸° 10ë§ˆë¦¬ì˜ IDì™€ ê¸¸ì´ë¥¼ ì¶œë ¥í•˜ëŠ” SQL ë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ê¸¸ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ê³ , ê¸¸ì´ê°€ ê°™ë‹¤ë©´ ë¬¼ê³ ê¸°ì˜ IDì— ëŒ€í•´ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”. ë‹¨, ê°€ìž¥ í° ë¬¼ê³ ê¸° 10ë§ˆë¦¬ ì¤‘ ê¸¸ì´ê°€ 10cm ì´í•˜ì¸ ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.

ID ì»¬ëŸ¼ëª…ì€ ID, ê¸¸ì´ ì»¬ëŸ¼ëª…ì€ LENGTHë¡œ í•´ì£¼ì„¸ìš”.

### SQL ì¿¼ë¦¬(ì •ë‹µ)
```SQL
SELECT
    ID, 
    LENGTH
FROM FISH_INFO
ORDER BY LENGTH DESC, ID ASC
LIMIT 10
```
### ì‹¤í–‰ ê²°ê³¼(ì •ë‹µ)
```SQL
ID	LENGTH
----------
8	73
9	73
6	60
7	55
1	50
2	40
0	30
10	22
3	20
11	17
```

### í’€ì´ ê³¼ì • ë° ê³ ë¯¼í•œ ì 
```SQL
1. ID, LENGTH ì»¬ëŸ¼ ì¶œë ¥, ê¸¸ì´ ë‚´ë¦¼ì°¨ìˆœ, ID ì˜¤ë¦„ì°¨ìˆœ
SELECT
    ID, 
    LENGTH
FROM FISH_INFO
ORDER BY LENGTH DESC, ID ASC

2. ê°€ìž¥ í° 10ë§ˆë¦¬ ë¬¼ê³ ê¸°->LIMIT 10
SELECT
    ID, 
    LENGTH
FROM FISH_INFO
ORDER BY LENGTH DESC, ID ASC
LIMIT 10

ê°€ìž¥ í° ë¬¼ê³ ê¸° 10ë§ˆë¦¬ ì¤‘ ê¸¸ì´ê°€ 10cm ì´í•˜ì¸ ê²½ìš°ëŠ” ì—†ìœ¼ë¯€ë¡œ ë”°ë¡œ ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ.
```


---

> ðŸ” **4. ì¡°ê±´ì— ë¶€í•©í•˜ëŠ” ì¤‘ê³ ê±°ëž˜ ìƒíƒœ ì¡°íšŒí•˜ê¸°**  
ì‚¬ìš© í•¨ìˆ˜: String, Date

ë¬¸ì œ ë§í¬: [programmers](https://school.programmers.co.kr/learn/courses/30/lessons/164672)

ë‚ ì§œ: 25/01/16(ëª©)


### ë¬¸ì œ ì„¤ëª…
ë‹¤ìŒì€ ì¤‘ê³ ê±°ëž˜ ê²Œì‹œíŒ ì •ë³´ë¥¼ ë‹´ì€ USED_GOODS_BOARD í…Œì´ë¸”ìž…ë‹ˆë‹¤. USED_GOODS_BOARD í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° BOARD_ID, WRITER_ID, TITLE, CONTENTS, PRICE, CREATED_DATE, STATUS, VIEWSì€ ê²Œì‹œê¸€ ID, ìž‘ì„±ìž ID, ê²Œì‹œê¸€ ì œëª©, ê²Œì‹œê¸€ ë‚´ìš©, ê°€ê²©, ìž‘ì„±ì¼, ê±°ëž˜ìƒíƒœ, ì¡°íšŒìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

|Column name|	Type|	Nullable|
|---|---|---|
|BOARD_ID	|VARCHAR(5)	|FALSE|
|WRITER_ID	|VARCHAR(50)	|FALSE|
|TITLE	|VARCHAR(100)	|FALSE|
|CONTENTS	|VARCHAR(1000)	|FALSE|
|PRICE	|NUMBER	|FALSE|
|CREATED_DATE	|DATE	|FALSE|
|STATUS	|VARCHAR(10)	|FALSE|
|VIEWS	|NUMBER	|FALSE|

### ë¬¸ì œ
USED_GOODS_BOARD í…Œì´ë¸”ì—ì„œ 2022ë…„ 10ì›” 5ì¼ì— ë“±ë¡ëœ ì¤‘ê³ ê±°ëž˜ ê²Œì‹œë¬¼ì˜ ê²Œì‹œê¸€ ID, ìž‘ì„±ìž ID, ê²Œì‹œê¸€ ì œëª©, ê°€ê²©, ê±°ëž˜ìƒíƒœë¥¼ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ê±°ëž˜ìƒíƒœê°€ SALE ì´ë©´ íŒë§¤ì¤‘, RESERVEDì´ë©´ ì˜ˆì•½ì¤‘, DONEì´ë©´ ê±°ëž˜ì™„ë£Œ ë¶„ë¥˜í•˜ì—¬ ì¶œë ¥í•´ì£¼ì‹œê³ , ê²°ê³¼ëŠ” ê²Œì‹œê¸€ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.

### SQL ì¿¼ë¦¬(ì •ë‹µ)
```SQL
SELECT 
    BOARD_ID,
    WRITER_ID,
    TITLE,
    PRICE,
    CASE WHEN STATUS='SALE' THEN 'íŒë§¤ì¤‘'
        WHEN STATUS='RESERVED' THEN 'ì˜ˆì•½ì¤‘'
        ELSE 'ê±°ëž˜ì™„ë£Œ'
    END AS STATUS
FROM USED_GOODS_BOARD
WHERE CREATED_DATE = '2022-10-05'
ORDER BY BOARD_ID DESC
```
### ì‹¤í–‰ ê²°ê³¼(ì •ë‹µ)
```SQL
BOARD_ID WRITER_ID  TITLE                            PRICE   STATUS
----------------------------------------------------------------------
B0013   kwag98      ì‚¼ì„± 65ì¸ì¹˜ led tv íŒë‹ˆë‹¤         320000  ì˜ˆì•½ì¤‘
B0012   hwahwa2     ì—ì–´íŒŸ í”„ë¡œ íŒ”ì•„ìš”                125000  ê±°ëž˜ì™„ë£Œ
B0011   sangyoung58 ì•„ì´í°14í”„ë¡œ 256ê¸°ê°€ ìžê¸‰ì œíŒ”ì•„ìš” 1500000 ê±°ëž˜ì™„ë£Œ
B0010   keel1990    ì² ì œì„ ë°˜5ë‹¨                       10000   íŒë§¤ì¤‘
B0009   yawoong67   ì„ ë°˜ íŒë‹ˆë‹¤                       12000   ê±°ëž˜ì™„ë£Œ

```

### í’€ì´ ê³¼ì • ë° ê³ ë¯¼í•œ ì 
```SQL
1. 2022-10-05 ì¡°ê±´, BOARD_ID ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬

SELECT 
    BOARD_ID,
    WRITER_ID,
    TITLE,
    PRICE,
    STATUS
FROM USED_GOODS_BOARD
WHERE CREATED_DATE = '2022-10-05'
ORDER BY BOARD_ID DESC

2. CASE WHENì„ ì‚¬ìš©í•˜ì—¬ STATUSì˜ ê°’ ë³€ê²½

SELECT 
    BOARD_ID,
    WRITER_ID,
    TITLE,
    PRICE,
    CASE WHEN STATUS='SALE' THEN 'íŒë§¤ì¤‘'
        WHEN STATUS='RESERVED' THEN 'ì˜ˆì•½ì¤‘'
        ELSE 'ê±°ëž˜ì™„ë£Œ'
    END AS STATUS
FROM USED_GOODS_BOARD
WHERE CREATED_DATE = '2022-10-05'
ORDER BY BOARD_ID DESC
```

---

> ðŸ” **5. ì¡°ê±´ì— ë§žëŠ” ì‚¬ìš©ìž ì •ë³´ ì¡°íšŒí•˜ê¸°**  
ì‚¬ìš© í•¨ìˆ˜:  String, Date

ë¬¸ì œ ë§í¬: [programmers](https://school.programmers.co.kr/learn/courses/30/lessons/164670)

ë‚ ì§œ: 25/01/17(ê¸ˆ)

### ë¬¸ì œ ì„¤ëª…
ë‹¤ìŒì€ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œíŒ ì •ë³´ë¥¼ ë‹´ì€ USED_GOODS_BOARD í…Œì´ë¸”ê³¼ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œíŒ ì²¨ë¶€íŒŒì¼ ì •ë³´ë¥¼ ë‹´ì€ USED_GOODS_USER í…Œì´ë¸”ìž…ë‹ˆë‹¤. USED_GOODS_BOARD í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° BOARD_ID, WRITER_ID, TITLE, CONTENTS, PRICE, CREATED_DATE, STATUS, VIEWSëŠ” ê²Œì‹œê¸€ ID, ìž‘ì„±ìž ID, ê²Œì‹œê¸€ ì œëª©, ê²Œì‹œê¸€ ë‚´ìš©, ê°€ê²©, ìž‘ì„±ì¼, ê±°ëž˜ìƒíƒœ, ì¡°íšŒìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.


USED_GOODS_USER í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° USER_ID, NICKNAME, CITY, STREET_ADDRESS1, STREET_ADDRESS2, TLNOëŠ” ê°ê° íšŒì› ID, ë‹‰ë„¤ìž„, ì‹œ, ë„ë¡œëª… ì£¼ì†Œ, ìƒì„¸ ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

### ë¬¸ì œ
USED_GOODS_BOARDì™€ USED_GOODS_USER í…Œì´ë¸”ì—ì„œ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œë¬¼ì„ 3ê±´ ì´ìƒ ë“±ë¡í•œ ì‚¬ìš©ìžì˜ ì‚¬ìš©ìž ID, ë‹‰ë„¤ìž„, ì „ì²´ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ, ì „ì²´ ì£¼ì†ŒëŠ” ì‹œ, ë„ë¡œëª… ì£¼ì†Œ, ìƒì„¸ ì£¼ì†Œê°€ í•¨ê»˜ ì¶œë ¥ë˜ë„ë¡ í•´ì£¼ì‹œê³ , ì „í™”ë²ˆí˜¸ì˜ ê²½ìš° xxx-xxxx-xxxx ê°™ì€ í˜•íƒœë¡œ í•˜ì´í”ˆ ë¬¸ìžì—´(-)ì„ ì‚½ìž…í•˜ì—¬ ì¶œë ¥í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” íšŒì› IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.

### SQL ì¿¼ë¦¬(ì •ë‹µ)
```SQL
WITH BOARD_CNT AS (
        SELECT 
            WRITER_ID,
            COUNT(BOARD_ID) AS B_CNT
        FROM USED_GOODS_BOARD
        GROUP BY WRITER_ID
)

SELECT
    USER_ID,
    NICKNAME,
    CONCAT(CITY, ' ', STREET_ADDRESS1, ' ', STREET_ADDRESS2) AS ì „ì²´ì£¼ì†Œ,
    CONCAT(SUBSTR(TLNO, 1, 3), '-', SUBSTR(TLNO, 4, 4), '-', SUBSTR(TLNO, 8, 4)) AS ì „í™”ë²ˆí˜¸
FROM USED_GOODS_USER AS U
LEFT JOIN BOARD_CNT AS B
ON U.USER_ID = B.WRITER_ID
WHERE B_CNT >= 3
ORDER BY USER_ID DESC
```
### ì‹¤í–‰ ê²°ê³¼(ì •ë‹µ)
```SQL
USER_ID  NICKNAME ì „ì²´ì£¼ì†Œ                               ì „í™”ë²ˆí˜¸
------------------------------------------------------------------------
xlqpfh2  ìž‰ì—¬í‚¹   ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ìˆ˜ë‚´ë¡œ 1 001-004          010-6453-4911
xlaortm1 íˆ¬ë”ë¬¸   ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ë‚´ì •ë¡œ165ë²ˆê¸¸ 35 104-1202 010-3255-5431
spdlqj12 í¬í¬í­   ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ìˆ˜ë‚´ë¡œ 206 2019ë™ 801í˜¸   010-8723-4922
.
.
.
```

### í’€ì´ ê³¼ì • ë° ê³ ë¯¼í•œ ì 
```SQL
1. ê²Œì‹œë¬¼ ìˆ˜ ì§‘ê³„: WITHë¬¸ ì‚¬ìš©

WITH BOARD_CNT AS (
        SELECT 
            WRITER_ID,
            COUNT(BOARD_ID) AS B_CNT
        FROM USED_GOODS_BOARD
        GROUP BY WRITER_ID
)

2. ë‘ í…Œì´ë¸” JOIN, BOARD_ID 3ê±´ ì´ìƒ ì¡°ê±´ ì„¤ì •, íšŒì›ID ë‚´ë¦¼ì°¨ìˆœ
SELECT
    USER_ID,
    NICKNAME,
    () AS ì „ì²´ì£¼ì†Œ,
    () AS ì „í™”ë²ˆí˜¸
FROM USED_GOODS_USER AS U
LEFT JOIN BOARD_CNT AS B
ON U.USER_ID = B.WRITER_ID
WHERE B_CNT >= 3
ORDER BY BOARD_ID DESC

3. ì „ì²´ì£¼ì†Œ: ì‹œ+ë„ë¡œëª… ì£¼ì†Œ+ìƒì„¸ ì£¼ì†Œ, ë„ì–´ì“°ê¸° ì¶”ê°€

CONCAT(CITY, ' ', STREET_ADDRESS1, ' ', STREET_ADDRESS2) AS ì „ì²´ì£¼ì†Œ

4. ì „í™”ë²ˆí˜¸ ì‚¬ì´ í•˜ì´í”ˆ ì‚½ìž…

CONCAT(SUBSTR(TLNO, 1, 3), '-', SUBSTR(TLNO, 4, 4), '-', SUBSTR(TLNO, 8, 4)) AS ì „í™”ë²ˆí˜¸
```
- `CONCAT()`ì€ ë„ì–´ì“°ê¸° ì—†ì´ ì—°ê²°ë¨
- `SUBSTR(ë¬¸ìžì—´, ì‹œìž‘ ìœ„ì¹˜, ê¸¸ì´)`
---

> ðŸ” **5. ì¡°ê±´ì— ë§žëŠ” ì‚¬ìš©ìžì™€ ì´ ê±°ëž˜ê¸ˆì•¡ ì¡°íšŒí•˜ê¸°**  
ì‚¬ìš© í•¨ìˆ˜: GROUP BY

ë¬¸ì œ ë§í¬: [programmers](https://school.programmers.co.kr/learn/courses/30/lessons/164668)

ë‚ ì§œ: 25/01/21(í™”)

### ë¬¸ì œ ì„¤ëª…
ë‹¤ìŒì€ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œíŒ ì •ë³´ë¥¼ ë‹´ì€ USED_GOODS_BOARD í…Œì´ë¸”ê³¼ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œíŒ ì‚¬ìš©ìž ì •ë³´ë¥¼ ë‹´ì€ USED_GOODS_USER í…Œì´ë¸”ìž…ë‹ˆë‹¤. USED_GOODS_BOARD í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° BOARD_ID, WRITER_ID, TITLE, CONTENTS, PRICE, CREATED_DATE, STATUS, VIEWSëŠ” ê²Œì‹œê¸€ ID, ìž‘ì„±ìž ID, ê²Œì‹œê¸€ ì œëª©, ê²Œì‹œê¸€ ë‚´ìš©, ê°€ê²©, ìž‘ì„±ì¼, ê±°ëž˜ìƒíƒœ, ì¡°íšŒìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.


USED_GOODS_USER í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° USER_ID, NICKNAME, CITY, STREET_ADDRESS1, STREET_ADDRESS2, TLNOëŠ” ê°ê° íšŒì› ID, ë‹‰ë„¤ìž„, ì‹œ, ë„ë¡œëª… ì£¼ì†Œ, ìƒì„¸ ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

### ë¬¸ì œ
USED_GOODS_BOARDì™€ USED_GOODS_USER í…Œì´ë¸”ì—ì„œ ì™„ë£Œëœ ì¤‘ê³  ê±°ëž˜ì˜ ì´ê¸ˆì•¡ì´ 70ë§Œ ì› ì´ìƒì¸ ì‚¬ëžŒì˜ íšŒì› ID, ë‹‰ë„¤ìž„, ì´ê±°ëž˜ê¸ˆì•¡ì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ì´ê±°ëž˜ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.

### SQL ì¿¼ë¦¬(ì •ë‹µ)
```SQL
WITH BOARD AS (
        SELECT 
            WRITER_ID,
            SUM(PRICE) AS TOTAL_SALES
        FROM USED_GOODS_BOARD
        WHERE STATUS = 'DONE'
        GROUP BY WRITER_ID
)

SELECT
    USER_ID,
    NICKNAME,
    TOTAL_SALES
FROM USED_GOODS_USER AS U
LEFT JOIN BOARD AS B
ON U.USER_ID = B.WRITER_ID
WHERE TOTAL_SALES >= 700000
ORDER BY TOTAL_SALES
```
### ì‹¤í–‰ ê²°ê³¼(ì •ë‹µ)
```SQL
USER_ID    NICKNAME   TOTAL_SALES
---------------------------------
zkzkdh1    í›„í›„í›„     700000
dhfkzmf09  ì°ì°       860000
sangyoung58 ë³´ë¼ë³´ë¼  1500000
```

### í’€ì´ ê³¼ì • ë° ê³ ë¯¼í•œ ì 
```SQL
1. WITHë¬¸ì—ì„œ TOTAL_SALES, STATUS = 'DONE' ê³„ì‚°

WITH BOARD AS (
        SELECT 
            WRITER_ID,
            SUM(PRICE) AS TOTAL_SALES
        FROM USED_GOODS_BOARD
        WHERE STATUS = 'DONE'
        GROUP BY WRITER_ID
)

2. WITHë¬¸ìœ¼ë¡œ ê³„ì‚°í•œ í…Œì´ë¸”ì„ ì¡°ì¸, TOTAL_SALES >= 700000 ì¡°ê±´, TOTAL_SALES ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬

WITH BOARD AS (
        SELECT 
            WRITER_ID,
            SUM(PRICE) AS TOTAL_SALES
        FROM USED_GOODS_BOARD
        WHERE STATUS = 'DONE'
        GROUP BY WRITER_ID
)

SELECT
    USER_ID,
    NICKNAME,
    TOTAL_SALES
FROM USED_GOODS_USER AS U
LEFT JOIN BOARD AS B
ON U.USER_ID = B.WRITER_ID
WHERE TOTAL_SALES >= 700000
ORDER BY TOTAL_SALES
```

---





## ìˆ˜í–‰ ì¸ì¦

![alt text](../images/image-sql2.png)

---

```SQL
SELECT
    COUNT(ID) AS COUNT
FROM ECOLI_DATA
WHERE ((GENOTYPE & 1) 
       OR (GENOTYPE & 4)) 
       AND !(GENOTYPE & 2)
```

![alt text](../images/image-sql2-2.png)

![alt text](../images/image-sql2-3.png)

- AND ì—°ì‚°ìž(&): ë‘ ê°œì˜ ë¹„íŠ¸ê°€ ëª¨ë‘ 1ì¼ ë•Œë§Œ 1(TRUE)ì„ ë°˜í™˜í•¨.

- ex) ID 4 : 1101â‚â‚‚â‚Ž  
í˜•ì§ˆ 1 or 3ì„ ê°€ì§€ê³  ìžˆìŒ+í˜•ì§ˆ 2ì„ ê°€ì§€ì§€ ì•ŠìŒ  
    - (GENOTYPE & 1) -> (1101 & 0001) -> í˜•ì§ˆ 1ì„ ê°€ì§€ê³  ìžˆë‹¤.
    - (GENOTYPE & 4) -> (1101 & 1000) -> í˜•ì§ˆ 3ì„ ê°€ì§€ê³  ìžˆë‹¤.
    - !(GENOTYPE & 2) -> !(1101 & 0100) -> í˜•ì§ˆ 2ë¥¼ ê°€ì§€ê³  ìžˆì§€ ì•Šë‹¤.


```SQL
í˜•ì§ˆ 1: 1 / 0001
í˜•ì§ˆ 2: 2 / 0010
í˜•ì§ˆ 3: 4 / 0100
í˜•ì§ˆ 4: 8 / 1000
```