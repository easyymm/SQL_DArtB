## **ğŸ“Œ Week 6: ì¢…í•© ì‹¤ì „ ë¬¸ì œ í’€ì´**

---

### **1ï¸âƒ£ ê³¼ì œ ì•ˆë‚´**

 ì§€ê¸ˆê¹Œì§€ í•™ìŠµí•œ SQL ê°œë…ë“¤ì„ **ì¢…í•©ì ìœ¼ë¡œ í™œìš©**í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ì„¸ìš”!

 0~5ì£¼ì°¨ ê³¼ì œì—ì„œëŠ” ì£¼ì°¨ë³„ë¡œ ëª…í™•í•œ í•™ìŠµ ì£¼ì œë¥¼ ì œì‹œí•˜ê³ , í•´ë‹¹ ê°œë…ì„ ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¿¼ë¦¬ ì‘ì„± ì—°ìŠµì„ ì§„í–‰í•˜ì˜€ë‹¤ë©´, ì´ë²ˆ 6ì£¼ì°¨ ê³¼ì œì—ì„œëŠ” ë³„ë„ì˜ ì£¼ì œë‚˜ ê°œë…ì„ ì œì‹œí•˜ì§€ ì•Šê³ , ì˜¤ì§ ë¬¸ì œë§Œì„ ë°”íƒ•ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì„¤ê³„í•˜ê³  ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

 ì´ë²ˆ ê³¼ì œì—ì„œëŠ” ë¬¸ì œë¥¼ ì´í•´í•˜ê³  í•„ìš”í•œ ì§€í‘œì™€ ë¶„ì„ ë°©í–¥ì„ ìŠ¤ìŠ¤ë¡œ íŒë‹¨í•˜ì—¬ ì¿¼ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” ì‚¬ê³ ë ¥ì„ ê¸°ë¥´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

 ì•„ë˜ì˜ í•­ëª©ì„ ì‚¬ì „ì— ì •ë¦¬í•œ ë’¤ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ë©´ ë¬¸ì œ í•´ê²°ì— í•„ìš”í•œ íë¦„ì„ êµ¬ì¡°í™”í•˜ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
**[ì¿¼ë¦¬ ì‘ì„± í…œí”Œë¦¿]**
- ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ëª©í‘œ, í™•ì¸í•  ì§€í‘œ:
- ì¿¼ë¦¬ ê³„ì‚° ë°©ë²•:
- ë°ì´í„°ì˜ ê¸°ê°„:
- ì‚¬ìš©í•  í…Œì´ë¸”:
- Join KEY:
- ë°ì´í„° íŠ¹ì§•:
```

ğŸ“ **ë¬¸ì œ í’€ì´**: 

- ğŸ”— [solvesql - ë³µìˆ˜ êµ­ì  ë©”ë‹¬ ìˆ˜ìƒí•œ ì„ ìˆ˜ ì°¾ê¸°](https://solvesql.com/problems/multiple-medalist/)

**ğŸ“ ë¬¸ì œ: 2000ë…„ ì´í›„ 2ê°œ ì´ìƒì˜ êµ­ì ìœ¼ë¡œ ë©”ë‹¬ì„ ìˆ˜ìƒí•œ ì„ ìˆ˜ ì´ë¦„ ì¡°íšŒí•˜ê¸°**

```sql
SELECT 
  A.name
FROM games AS G
LEFT JOIN records AS R 
ON G.id = R.game_id
LEFT JOIN athletes AS A
ON A.id = R.athlete_id
WHERE R.medal IS NOT NULL
    AND G.year >= 2000
GROUP BY R.athlete_id
HAVING COUNT(DISTINCT R.team_id) >= 2
ORDER BY A.name;
```

-----

- ğŸ”— [solvesql - ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì˜ ì›” ë³„ ë§¤ì¶œì•¡ ì§‘ê³„](https://solvesql.com/problems/shoppingmall-monthly-summary/)

**ğŸ“ ë¬¸ì œ: ì›”ë³„ ì·¨ì†Œ ì£¼ë¬¸ì„ ì œì™¸í•œ ì£¼ë¬¸ ê¸ˆì•¡ì˜ í•©ê³„, ì·¨ì†Œ ì£¼ë¬¸ì˜ ê¸ˆì•¡ í•©ê³„, ì´ í•©ê³„**

```sql
SELECT 
  strftime('%Y-%m', O.order_date) AS order_month,
  SUM(CASE 
        WHEN SUBSTR(O.order_id, 1, 1) != 'C' 
        THEN I.price * I.quantity 
        ELSE 0 
      END) AS ordered_amount,
  SUM(CASE
        WHEN SUBSTR(O.order_id, 1, 1) = 'C' 
        THEN I.price * I.quantity 
        ELSE 0 
      END) AS canceled_amount,
  SUM(I.price * I.quantity) AS total_amount
FROM orders AS O
JOIN order_items AS I USING (order_id)
GROUP BY strftime('%Y-%m', O.order_date)
ORDER BY order_month;
```

-----

- ğŸ”— [solvesql - ì„¸ ëª…ì´ ì„œë¡œ ì¹œêµ¬ì¸ ê´€ê³„ ì°¾ê¸°](https://solvesql.com/problems/friend-group-of-3/)

**ğŸ“ ë¬¸ì œ: IDê°€ 3820ì¸ ì‚¬ìš©ìë¥¼ í¬í•¨í•´ ì„¸ ëª…ì˜ ì‚¬ìš©ìê°€ ì¹œêµ¬ ê´€ê³„ì¸ ê²½ìš°**

```sql
SELECT 
  E1.user_a_id AS user_a_id,
  E1.user_b_id AS user_b_id,
  E2.user_b_id AS user_c_id
FROM edges AS E1
JOIN edges AS E2 
  ON E1.user_a_id = E2.user_a_id
  AND E1.user_b_id < E2.user_b_id
JOIN edges AS E3 
    ON ((E3.user_a_id = E1.user_b_id AND E3.user_b_id = E2.user_b_id) OR
        (E3.user_a_id = E2.user_b_id AND E3.user_b_id = E1.user_b_id))
WHERE 
  E1.user_a_id < E1.user_b_id
  AND E1.user_b_id < E2.user_b_id
  AND (
    E1.user_a_id = 3820 OR 
    E1.user_b_id = 3820 OR 
    E2.user_b_id = 3820
  );
```